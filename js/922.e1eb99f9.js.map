{"version":3,"file":"js/922.e1eb99f9.js","mappings":"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","sources":["webpack://telos-cloud-js-demo/./src/views/iframe/TelosCloudPage.vue?6c38","webpack://telos-cloud-js-demo/./src/views/iframe/TelosCloudPage.vue","webpack://telos-cloud-js-demo/./src/views/iframe/TelosCloudPage.vue?39f4"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { class: \"p-telos-cloud\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"p-telos-cloud__welcome-card\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"p-telos-cloud__welcome-title\" }, \"Telos Cloud Login (iframe)\", -1)\nconst _hoisted_4 = {\n  key: 1,\n  class: \"p-telos-cloud__logged_card\"\n}\nconst _hoisted_5 = { class: \"p-telos-cloud__logged-pubkeys\" }\nconst _hoisted_6 = { class: \"p-telos-cloud__logged-btns\" }\nconst _hoisted_7 = [\"href\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_NavegationBar = _resolveComponent(\"NavegationBar\")!\n  const _component_CodeContainer = _resolveComponent(\"CodeContainer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_NavegationBar),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (!_ctx.isLogged)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n            _hoisted_3,\n            _createElementVNode(\"button\", {\n              class: \"p-telos-cloud__welcome-login-btn p-telos-cloud--btn\",\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.login && _ctx.login(...args)))\n            }, \"Login\"),\n            _createElementVNode(\"div\", {\n              class: \"p-telos-cloud__progress-bar\",\n              style: _normalizeStyle(`opacity: ${_ctx.percent === -100 ? 0 : 1}`)\n            }, [\n              _createElementVNode(\"div\", {\n                class: _normalizeClass({\n                            'p-telos-cloud__progress-bar__fill': true,\n                            'p-telos-cloud__progress-bar__fill--filled': _ctx.percent === 100,\n                        }),\n                style: _normalizeStyle({ width: _ctx.percent.toString() + '%' })\n              }, null, 6)\n            ], 4),\n            _createVNode(_component_CodeContainer, { config: 'config_for_iframe' })\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _createElementVNode(\"h1\", {\n              class: \"p-telos-cloud__logged-title\",\n              onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.visitAccount && _ctx.visitAccount(...args)))\n            }, \"account: \" + _toDisplayString(_ctx.userAccount), 1),\n            _createElementVNode(\"p\", _hoisted_5, \"key: \" + _toDisplayString(_ctx.pubKeys[0]), 1),\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createElementVNode(\"button\", {\n                class: \"p-telos-cloud__logged-logout-btn p-telos-cloud--btn\",\n                onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.logout && _ctx.logout(...args)))\n              }, \"Logout\"),\n              _createElementVNode(\"button\", {\n                class: _normalizeClass({'p-telos-cloud__logged-stake-btn': true, ' p-telos-cloud--btn': true, 'p-telos-cloud__logged-stake-btn--loading': _ctx.isLoading }),\n                onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.signExampleTransaction && _ctx.signExampleTransaction(...args)))\n              }, \" Stake 0.0001 TLOS for CPU \", 2)\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"p-telos-cloud__progress-bar\",\n              style: _normalizeStyle(`opacity: ${_ctx.percent === -100 ? 0 : 1}`)\n            }, [\n              _createElementVNode(\"div\", {\n                class: _normalizeClass({\n                            'p-telos-cloud__progress-bar__fill': true,\n                            'p-telos-cloud__progress-bar__fill--filled': _ctx.percent === 100,\n                        }),\n                style: _normalizeStyle({ width: _ctx.percent.toString() + '%' })\n              }, null, 6)\n            ], 4),\n            (_ctx.transactionId)\n              ? (_openBlock(), _createElementBlock(\"a\", {\n                  key: 0,\n                  class: \"p-telos-cloud__trx\",\n                  href: 'https://explorer.telos.net/transaction/' + _ctx.transactionId,\n                  target: \"_blank\"\n                }, _toDisplayString(_ctx.transactionId), 9, _hoisted_7))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_component_CodeContainer, { config: 'config_for_iframe' })\n          ]))\n    ])\n  ], 64))\n}","<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue';\nimport { TelosCloud } from '@vapaee/telos-cloud';\n\nimport NavegationBar from '@/components/NavegationBar.vue';\nimport CodeContainer from '@/components/CodeContainer.vue';\n\nexport default defineComponent({\n    name: 'TelosCloudPage',\n    components: {\n        NavegationBar,\n        CodeContainer,\n    },\n    setup() {\n        // -- variables --\n        const userAccount = ref('');\n        const pubKeys = ref([] as string[]);\n        const isLogged = ref(false);\n        const isLoading = ref(false);\n        const transactionId = ref('');\n        const percent = ref(-100);\n\n        // -- telos cloud instance --\n        const telos = new TelosCloud({\n            appName: 'Telos Zero',\n            login: {\n                iframe: {\n                    usePopUp: true,\n                    syncWithWallet: true,\n                    containerElementId: 'google_btn',\n                    width: \"377px\",\n                    height: \"600px\",\n                },\n            },\n            chain: {\n                chainId: '4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11', // telos mainnet\n                rpcEndpoint: 'https://mainnet.telos.net',\n            },\n            fuel: {\n                rpcEndpoint: 'https://telos.greymass.com',\n                hyperionEndpoint: 'https://mainnet.telos.net',\n            },\n            metakeep: {\n                appId: 'ad5e05fb-280a-41ae-b186-5a2654567b92',\n            },\n            logger: true\n        });\n        \n        // Handle login and logout events --\n        telos.events.onLogin.subscribe(() => {\n            userAccount.value = telos.userAccount;\n            pubKeys.value = telos.pubKeys;\n            isLogged.value = true;\n        });\n\n        telos.events.onLogout.subscribe(() => {\n            userAccount.value = '';\n            pubKeys.value = [];\n            isLogged.value = false;\n        });\n\n        telos.onProgress.subscribe((p) => {\n            percent.value = Math.round(p * 100);\n        });\n\n        // Check if we are already logged in\n        telos.checkAutoLogin();\n    \n        // -- actions --\n\n        // Logout button\n        const logout = async () => {\n            try {\n                await telos.logout();\n                userAccount.value = '';\n                pubKeys.value = [];\n                isLogged.value = false;\n            } catch (error) {\n                console.error(error);\n            }\n        };\n\n        const login = async () => {\n            try {\n                await telos.login();\n            } catch (error) {\n                console.error(error);\n            }\n        };\n\n        // Example transaction\n        const signExampleTransaction = async () => {\n            if (isLoading.value) {\n                return;\n            }\n            try {\n                isLoading.value = true;\n                const result = await telos.api.transact({\n                    actions: [\n                        {\n                            account: \"eosio\",\n                            name: \"delegatebw\",\n                            authorization: [\n                                {\n                                    actor: telos.userAccount,\n                                    permission: \"active\",\n                                },\n                            ],\n                            data: {\n                                from: telos.userAccount,\n                                receiver: telos.userAccount,\n                                stake_net_quantity: \"0.0000 TLOS\",\n                                stake_cpu_quantity: \"0.0001 TLOS\",\n                                transfer: false,\n                            },\n                        },\n                    ],\n                });\n                transactionId.value = result.transaction_id as string;\n                isLoading.value = false;\n            } catch (error) {\n                console.error('Error signing transaction:', error);\n                isLoading.value = false;\n            }\n        };\n\n        // Visit account\n        const visitAccount = () => {\n            window.open(`https://explorer.telos.net/account/${telos.userAccount}`, '_blank');\n        };\n\n        return {\n            logout,\n            login,\n            signExampleTransaction,\n            visitAccount,\n            userAccount,\n            pubKeys,\n            isLogged,\n            transactionId,\n            isLoading,\n            percent,\n        };\n    },\n});\n</script>\n\n<template>\n    <NavegationBar />\n    <div class=\"p-telos-cloud\">\n    \n        <template v-if=\"!isLogged\">\n            <div class=\"p-telos-cloud__welcome-card\">\n                <h1 class=\"p-telos-cloud__welcome-title\">Telos Cloud Login (iframe)</h1>\n                <button class=\"p-telos-cloud__welcome-login-btn p-telos-cloud--btn\" @click=\"login\">Login</button>\n                <!-- Progress bar -->\n                <div class=\"p-telos-cloud__progress-bar\" :style=\"`opacity: ${percent === -100 ? 0 : 1}`\">\n                    <div\n                        :class=\"{\n                            'p-telos-cloud__progress-bar__fill': true,\n                            'p-telos-cloud__progress-bar__fill--filled': percent === 100,\n                        }\"\n                        :style=\"{ width: percent.toString() + '%' }\"\n                    ></div>\n                </div>                \n                <CodeContainer :config=\"'config_for_iframe'\" />\n            </div>\n        </template>\n\n        <template v-else>\n            <div class=\"p-telos-cloud__logged_card\">\n                <h1 class=\"p-telos-cloud__logged-title\" @click=\"visitAccount\">account: {{ userAccount }}</h1>\n                <p class=\"p-telos-cloud__logged-pubkeys\">key: {{ pubKeys[0] }}</p>\n\n                <!-- Buttons -->\n                <div class=\"p-telos-cloud__logged-btns\">\n                    <button class=\"p-telos-cloud__logged-logout-btn p-telos-cloud--btn\" @click=\"logout\">Logout</button>\n                    <button\n                        :class=\"{'p-telos-cloud__logged-stake-btn': true, ' p-telos-cloud--btn': true, 'p-telos-cloud__logged-stake-btn--loading': isLoading }\"\n                        @click=\"signExampleTransaction\">\n                            Stake 0.0001 TLOS for CPU\n                    </button>\n                </div>\n\n                <!-- Progress bar -->\n                <div class=\"p-telos-cloud__progress-bar\" :style=\"`opacity: ${percent === -100 ? 0 : 1}`\">\n                    <div\n                        :class=\"{\n                            'p-telos-cloud__progress-bar__fill': true,\n                            'p-telos-cloud__progress-bar__fill--filled': percent === 100,\n                        }\"\n                        :style=\"{ width: percent.toString() + '%' }\"\n                    ></div>\n                </div>\n\n                <!-- Transaction ID -->\n                <a class=\"p-telos-cloud__trx\" v-if=\"transactionId\" :href=\"'https://explorer.telos.net/transaction/' + transactionId\" target=\"_blank\">\n                    {{ transactionId }}\n                </a>\n\n                <CodeContainer :config=\"'config_for_iframe'\" />\n            </div>\n        </template>\n\n    </div>\n</template>\n\n<style lang=\"scss\">\n\n// fade out effect\n@keyframes fadeOut {\n    0% {\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n    }\n}\n\n.p-telos-cloud {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: calc(100vh - 38px);\n    width: 100%;\n    background-image: linear-gradient(0.4turn,#071033,#6039a4);\n        \n    &__progress-bar {\n        width: 100%;\n        height: 4px;\n        background-color: #f1f1f1;\n        border-radius: 4px;\n        margin-top: 10px;\n        overflow: hidden;\n    }\n\n    &__progress-bar__fill {\n        height: 100%;\n        background-color: #007bff;\n        opacity: 1;\n        &--empty {\n            opacity: 0;\n        }\n        &--filled {\n            animation: fadeOut 1s forwards 0.5s;\n        }\n    }\n\n    &__welcome-card, &__logged_card {\n        display: flex;\n        flex-direction: column;\n        align-items: stretch;\n        padding: 20px;\n        border-radius: 10px;\n        background-color: #fff;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    }\n\n    &__welcome-card {\n        align-items: center;\n    }\n\n    &__welcome-title {\n        font-size: 24px;\n        margin-bottom: 20px;\n    }\n\n    &__logged-btns {\n        display: flex;\n        justify-content: space-between;\n        gap: 10px;\n    }\n\n    &__trx {\n        padding-top: 20px;\n        display: block;\n        text-decoration: none;\n        color: blue;\n    }\n\n    &--btn {\n        padding: 10px 20px;\n        border: none;\n        border-radius: 5px;\n        font-size: 16px;\n        cursor: pointer;\n    }\n    \n    &__logged-title {\n        font-size: 24px;\n        margin-bottom: 20px;\n        cursor: pointer;\n    }\n\n    &__logged-sub-title {\n        font-size: 20px;\n        margin-bottom: 10px;\n    }\n\n    &__logged-pubkeys {\n        font-size: 16px;\n        margin-bottom: 20px;\n    }\n\n    &__welcome-login-btn {\n        background-color: #007bff;\n        color: #fff;\n    }\n\n    &__logged-logout-btn {\n        background-color: #dc3545;\n        color: #fff;\n    }\n    \n    &__logged-stake-btn {\n        background-color: #007bff;\n        color: #fff;\n        &--loading {\n            background-color: rgb(197, 197, 197);\n            color: #fff;\n            cursor: not-allowed;\n        }\n    }\n\n    &__logged-logout-btn:hover {\n        background-color: #c82333;\n    }\n\n    &__welcome-login-btn:hover {\n        background-color: #0056b3;\n    }\n\n    &__logged-stake-btn:hover {\n        background-color: #0056b3;\n    }\n\n}\n</style>\n","import { render } from \"./TelosCloudPage.vue?vue&type=template&id=60200382&ts=true\"\nimport script from \"./TelosCloudPage.vue?vue&type=script&lang=ts\"\nexport * from \"./TelosCloudPage.vue?vue&type=script&lang=ts\"\n\nimport \"./TelosCloudPage.vue?vue&type=style&index=0&id=60200382&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","render","_ctx","_cache","$props","$setup","$data","$options","_component_NavegationBar","_component_CodeContainer","isLogged","visitAccount","userAccount","pubKeys","logout","isLoading","signExampleTransaction","style","percent","toString","transactionId","href","target","config","login","name","components","NavegationBar","CodeContainer","setup","telos","TelosCloud","appName","iframe","usePopUp","syncWithWallet","containerElementId","width","height","chain","chainId","rpcEndpoint","fuel","hyperionEndpoint","metakeep","appId","logger","events","onLogin","subscribe","value","onLogout","onProgress","p","Math","round","checkAutoLogin","console","error","api","transact","actions","account","authorization","actor","permission","data","from","receiver","stake_net_quantity","stake_cpu_quantity","transfer","result","transaction_id","window","open","__exports__"],"sourceRoot":""}